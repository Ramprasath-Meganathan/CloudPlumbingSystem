{"ast":null,"code":"var _jsxFileName = \"/Users/ramprasathmeganathan/NodeProjects/ServerlessGITProjectRepo/ServerlessProject/src/Components/Login.js\";\nimport React, { Component } from 'react';\nimport { login } from './UserFunctions';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      password: '',\n      errors: []\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const user = {\n      email: this.state.email,\n      password: this.state.password,\n      state: 'login'\n    };\n    const errors = validate(this.state.email, this.state.password);\n\n    if (errors.length > 0) {\n      this.setState({\n        errors\n      });\n    } else {\n      login(user).then(res => {\n        console.log(res);\n\n        if (res === 'Credentials are wrong') {\n          errors.push(res);\n          this.setState({\n            errors\n          });\n        } else if (res === undefined) {\n          errors.push('Credentials are wrong');\n          this.setState({\n            errors\n          });\n        } else {\n          localStorage.setItem('user', this.state.email);\n          this.props.history.push(`\\profile`);\n        }\n      });\n    }\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 mt-5 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"h3 mb-3 front-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }\n    }, \"Please sign in\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 33\n      }\n    }, \"Email Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      value: this.state.email,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 33\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      placeholder: \"Enter password\",\n      value: this.state.password,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-md btn-primary btn-block\",\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, \"Sign in\"), errors.map(error => /*#__PURE__*/React.createElement(\"p\", {\n      key: error,\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }, \"Error on Page: \", error))))));\n  }\n\n}\n\nconst validate = (email, password) => {\n  const errors = [];\n  const validEmailRegex = RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n  console.log(validEmailRegex.test(email));\n\n  if (!validEmailRegex.test(email)) {\n    errors.push(\"Email id is not valid\");\n  }\n\n  if (password.length < 1) {\n    errors.push(\"Please enter password\");\n  }\n\n  return errors;\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/ramprasathmeganathan/NodeProjects/ServerlessGITProjectRepo/ServerlessProject/src/Components/Login.js"],"names":["React","Component","login","Login","constructor","state","email","password","errors","onChange","bind","onSubmit","e","setState","target","name","value","preventDefault","user","validate","length","then","res","console","log","push","undefined","localStorage","setItem","props","history","render","map","error","validEmailRegex","RegExp","test"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { login } from './UserFunctions'\n\n\nclass Login extends Component {\n    constructor() {\n        super()\n        this.state = {\n            email: '',\n            password: '',\n            errors: []\n        }\n        this.onChange = this.onChange.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n    onChange(e) {\n        this.setState({ [e.target.name]: e.target.value })\n    }\n    onSubmit(e) {\n        e.preventDefault()\n        const user = {\n            email: this.state.email,\n            password: this.state.password,\n            state: 'login'\n        }\n        const errors = validate(this.state.email, this.state.password);\n        if (errors.length > 0) {\n            this.setState({ errors });\n        }\n        else {\n            login(user).then(res => {\n                console.log(res)\n                if (res === 'Credentials are wrong') {\n                    errors.push(res)\n                    this.setState({ errors });\n                }\n                else if (res === undefined) {\n                    errors.push('Credentials are wrong')\n                    this.setState({ errors });\n                }\n                else {\n                    localStorage.setItem('user', this.state.email)\n                    this.props.history.push(`\\profile`)\n                }\n            })\n        }\n    }\n    render() {\n        const { errors } = this.state;\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-md-5 mt-5 mx-auto\">\n                        <form noValidate onSubmit={this.onSubmit}>\n                            <h1 className=\"h3 mb-3 front-weight-normal\">\n                                Please sign in\n                            </h1>\n                            <div className=\"form-group \">\n                                <label>Email Address</label>\n                                <input type=\"email\" className=\"form-control\"\n                                    name=\"email\"\n                                    placeholder=\"Enter email\"\n                                    value={this.state.email}\n                                    onChange={this.onChange} />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"password\">Password</label>\n                                <input type=\"password\" className=\"form-control\"\n                                    name=\"password\"\n                                    placeholder=\"Enter password\"\n                                    value={this.state.password}\n                                    onChange={this.onChange} />\n                            </div>\n                            <button type=\"submit\"\n                                className=\"btn btn-md btn-primary btn-block\" onSubmit={this.onSubmit}>\n                                Sign in\n                            </button>\n                            {errors.map(error => (\n                                <p key={error} className='error'>Error on Page: {error}</p>\n                            ))}\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst validate = (email, password) => {\n    const errors = [];\n    const validEmailRegex =\n        RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n    console.log(validEmailRegex.test(email))\n    if (!validEmailRegex.test(email)) {\n        errors.push(\"Email id is not valid\")\n    }\n    if (password.length < 1) {\n        errors.push(\"Please enter password\");\n    }\n\n    return errors;\n}\nexport default Login"]},"metadata":{},"sourceType":"module"}